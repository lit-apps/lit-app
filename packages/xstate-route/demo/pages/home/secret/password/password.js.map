{"version":3,"file":"password.js","sourceRoot":"","sources":["password.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, LitElement, TemplateResult } from \"lit\";\nimport { showDialog } from \"weightless\";\nimport { GLOBAL_ROUTER_EVENTS_TARGET, ROUTER_SLOT_TAG_NAME } from \"router-slot\";\nimport { Class, IRouterSlot, IRoutingInfo } from \"router-slot\";\nimport { addListener } from \"router-slot\";\nimport { basePath, path } from \"router-slot\";\nimport { sharedStyles } from \"../../../styles\";\nimport { data } from \"../data\";\n\nexport default class PasswordComponent extends LitElement {\n\tstatic styles = [sharedStyles];\n\n\tfirstUpdated () {\n\t\tsuper.connectedCallback();\n\n\t\tconst $routerSlot = this.shadowRoot!.querySelector<IRouterSlot>(ROUTER_SLOT_TAG_NAME)!;\n\t\t$routerSlot.add([\n\t\t\t{\n\t\t\t\tpath: \"dialog\",\n\t\t\t\tresolve: (async ({slot, match}: IRoutingInfo) => {\n\t\t\t\t\tconst DialogComponent: Class = (await import(\"../../../../dialog/dialog\")).default;\n\t\t\t\t\tconst $dialog = new DialogComponent() as {parent: IRouterSlot | null} & HTMLElement;\n\t\t\t\t\t$dialog.parent = slot;\n\n\t\t\t\t\tfunction cleanup () {\n\t\t\t\t\t\tif (document.body.contains($dialog)) {\n\t\t\t\t\t\t\tdocument.body.removeChild($dialog);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t$dialog.addEventListener(\"close\", () => {\n\t\t\t\t\t\thistory.pushState(null, \"\", `${basePath()}home/secret/password`);\n\t\t\t\t\t\tcleanup();\n\t\t\t\t\t});\n\n\t\t\t\t\tconst unsub = addListener(GLOBAL_ROUTER_EVENTS_TARGET, \"popstate\", () => {\n\t\t\t\t\t\tif (!path().includes(\"dialog\")) {\n\t\t\t\t\t\t\tcleanup();\n\t\t\t\t\t\t\tunsub();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tdocument.body.appendChild($dialog);\n\t\t\t\t})\n\t\t\t}\n\t\t]);\n\t}\n\n\t/**\n\t * Opens a dialog without routing inside it.\n\t */\n\tprivate async openDialogWithoutRouting () {\n\t\thistory.native.pushState(null, \"\", `item/1234`);\n\t\tGLOBAL_ROUTER_EVENTS_TARGET.addEventListener(\"popstate\", close, {once: true});\n\n\t\tconst {result} = await showDialog({\n\t\t\tfixed: true,\n\t\t\tbackdrop: true,\n\t\t\tblockScrolling: true,\n\t\t\tcontainer: document.body,\n\t\t\tduration: 200,\n\t\t\ttemplate: html`<p slot=\"content\">This is a dialog with a special path!</p>` as any\n\t\t});\n\n\t\tawait result;\n\n\t\tGLOBAL_ROUTER_EVENTS_TARGET.removeEventListener(\"popstate\", close);\n\t\thistory.native.back();\n\t}\n\n\trender (): TemplateResult {\n\t\treturn html`\n\t\t\t<p>PasswordComponent</p>\n\t\t\t<span>Resolved password: ${data.secretPassword}</span>\n\t\t\t\n\t\t\t<router-slot></router-slot>\n\t\t\t<router-link path=\"dialog\">Open dialog with routes</router-link>\n\t\t\t<button @click=\"${this.openDialogWithoutRouting}\">Open dialog WITHOUT routes</button>\n\t\t`;\n\t}\n}\n\nwindow.customElements.define(\"password-component\", PasswordComponent);\n"]}